#!/bin/sh

#########################################
# to find files that are hidden
#########################################
alias showFiles='defaults write com.apple.finder AppleShowAllFiles YES; killall Finder /System/Library/CoreServices/Finder.app'
alias hideFiles='defaults write com.apple.finder AppleShowAllFiles NO; killall Finder /System/Library/CoreServices/Finder.app'

######################
# Turn proxies on/off
#####################
alias proxyon="source $AWS_TOOLS_PATH/proxy-switch.sh on"
alias proxyon_myapps="source $AWS_TOOLS_PATH/proxy-switch.sh myapps"
alias proxyon_pitc="source $AWS_TOOLS_PATH/proxy-switch.sh pitc"
alias proxyon_health="source $AWS_TOOLS_PATH/proxy-switch.sh health"
alias proxyoff="source $AWS_TOOLS_PATH/proxy-switch.sh off"
alias vpn_proxyon="source $AWS_TOOLS_PATH/proxy-switch.sh vpn_on"
#########################################
# Connectivity
#alias ssh.host ='ssh user@host.net'

#########################################
# Commands to run apps
#########################################
# Commands to change dirs
alias to.temp='cd ${MYTEMP}'
alias to.downloads='cd ${MYDOWNLOADS}'
alias to.dropbox='cd ~/Dropbox'
alias to.docs='cd ${MYDOCUMENTS}'
alias to.code='cd ${MYCODE}'
alias to.scratch='cd ${MYSCRATCH}'
alias to.devapps='cd ${MYDEVAPPS}'


#################################
# Simple Program Name Shortening
alias g=git
alias gp='git push'
alias gs='git status'
alias gc='git commit'
alias v=vagrant
alias vp='vagrant provision'
alias vd='vagrant destroy -f'
alias k=kitchen
alias kd='kitchen destroy'
alias kc='kitchen converge'
alias kl='kitchen login'
alias klist='chef exec kitchen list'
alias ball='berks install && berks upload'
alias cook='foodcritic -C `pwd` && rubocop -D -S'
alias cook_fix='rubocop --auto-correct'

#####################################
# brew shortcut commands
#####################################
alias brew-cask-refresh='brew cask list | xargs brew cask install --force'
alias brew-refresh='brew update && brew upgrade'

#############################
# Utilities

# recursive dos2unix in current directory
alias dos2lf='dos2unix `find ./ -type f`'

# Flush the DNS on Mac
alias dnsflush='dscacheutil -flushcache'

# Copy and paste and prune the usless newline
alias pbcopynn='tr -d "\n" | pbcopy'

# Set the extended MacOS attributes on a file such that Quicklook will open it as text
alias qltext='xattr -wx com.apple.FinderInfo "54 45 58 54 21 52 63 68 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00" $1'
#alias qltext2='osascript -e tell application "Finder" to set file type of ((POSIX file "$1") as alias) to "TEXT"'

# Git Scribe Commands
alias gsgp='git scribe gen pdf && open output/book.pdf'
alias gsgh='git scribe gen html && open output/book.html'

# Show network connections
# Often useful to prefix with SUDO to see more system level network usage
alias network.connections='lsof -l -i +L -R -V'
alias network.established='lsof -l -i +L -R -V | grep ESTABLISHED'
alias network.internalip="ifconfig en0 | egrep -o '([0-9]+\.[0-9]+\.[0-9]+\.[0-9]+)'"
alias network.externalip='curl -s http://checkip.dyndns.org/ | sed "s/[a-zA-Z<>/ :]//g"'

# Files used, anywhere on the filesystem
alias files.usage='sudo fs_usage -e -f filesystem|grep -v CACHE_HIT|grep -v grep'
# Files being opened
alias files.open='sudo fs_usage -e -f filesystem|grep -v CACHE_HIT|grep -v grep|grep open'
# Files in use in the Users directory
alias files.usage.user='sudo fs_usage -e -f filesystem|grep -v CACHE_HIT|grep -v grep|grep Users'

# Directory listings
# LS_COLORS='no=01;37:fi=01;37:di=07;96:ln=01;36:pi=01;32:so=01;35:do=01;35:bd=01;33:cd=01;33:ex=01;31:mi=00;05;37:or=00;05;37:'
# -G Add colors to ls
# -l Long format
# -h Short size suffixes (B, K, M, G, P)
# -p Postpend slash to folders
alias ls='ls -G -h -p '
alias ll='ls -l -G -h -p '

# Restart Apache on Mac
alias apacherestart="sudo /usr/sbin/apachectl restart"

#Personal Commands
alias game.seek='txt="";for i in {1..20};do txt=$txt"$i. ";done;txt=$txt" Ready or not, here I come";say $txt'

#Git Tools
# assumes git-up is installed (gem install git-up)
# switches to 'develop' branch, updates all local branches (nicely using git-up), removes all local branches already merged into 'develop'
alias gitdev='git checkout develop; git-up; git branch --merged develop | grep -v "\* develop" | xargs -n 1 git branch -d; git branch;'

# node.js + io.js
alias usenode='brew unlink iojs && brew link node && echo Using Node.js'
alias useio='brew unlink node && brew link --force iojs && echo Using io.js'
